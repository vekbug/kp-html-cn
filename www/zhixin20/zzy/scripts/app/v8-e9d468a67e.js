"use strict";function _toConsumableArray(n){if(Array.isArray(n)){for(var r=0,e=Array(n.length);r<n.length;r++)e[r]=n[r];return e}return Array.from(n)}define(["knockout"],function(n){var r=new URLSearchParams(location.search).get("id"),e=r?{n_1:{id:1,novel_id:9674,title:"快递小哥出门遇到刁蛮女老板，从此走上……",banner:"https://ommdq027l.qnssl.com/15429572503042.jpg",mp_raw_id:"gh_453a6965bf52",wxlink:"http://wx.jia85.top/ss/pdd/rdnn3nmz/towx.png"},n_2:{id:2,novel_id:920,title:"",banner:"https://ommdq027l.qnssl.com/15429572503043.jpg",mp_raw_id:"gh_453a6965bf52",wxlink:"http://wx.jia85.top/ss/pdd/rdnn3nmz/towx.png"},n_3:{id:3,novel_id:9674,title:"",banner:"https://ommdq027l.qnssl.com/15429572503044.jpg",mp_raw_id:"gh_1f691d68fb23",wxlink:"http://wx.jia85.top/ss/pdd/rdnn3nmz/towx.png"},n_4:{id:4,novel_id:920,title:"22岁的毛头小伙竟然成了一镇之长，他究竟有何能耐？",banner:"https://ommdq027l.qnssl.com/inrm-fxrizpp1774597.jpg",mp_raw_id:"gh_a935e3e8c545",wxlink:"http://wx.jia85.top/ss/pdd/rdnn3nmz/towx.png"}}["n_"+r]:r,i={showTitle:n.observable(!1),title:n.observable(""),showBanner:n.observable(!1),banner:n.observable(""),summary:n.observable("加载中..."),articles:n.observableArray(),url:n.observable("#"),imgUrl:n.observable("#"),wxlink:n.observable("#"),isPC:n.observable(!$.os.phone),isMobile:n.observable($.os.phone)};return{init:function(){n.applyBindings(i,document.body),e?(i.showTitle(!!e.title),i.title(e.title),i.showBanner(!!e.banner),i.banner(e.banner),i.imgUrl("https://open.weixin.qq.com/qr/code?username="+e.mp_raw_id),i.wxlink(e.wxlink),$.ajax({url:"https://api.818tu.com/v1/jsonp/bidding?articles=2&latest_entry=0&id="+e.novel_id,dataType:"jsonp",success:function(n){if(n.error)alert(n.error);else{var r=n.data.novel,e=n.data.articles,t=r.summary.split("\n").map(function(n){var r=n.replace(/^[\s　]+/g,"");return r?'<p class="paragraph">'+r+"</p>":""}).join(""),a=e.map(function(n){var r=n.content.split("\n"),e=r.map(function(n){var r=n.replace(/^[\s　]+/g,"");return r?'<p class="paragraph">'+r+"</p>":""});return{section:(e=['<div class="title"><h3>'+n.title+"</h3></div>"].concat(_toConsumableArray(e))).join("")}});i.summary(t),i.articles(a)}},error:function(){alert("发生错误")}})):alert("找不到该推广数据")}}});